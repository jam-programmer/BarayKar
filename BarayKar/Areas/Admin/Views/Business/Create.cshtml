
@model Application.Cqrs.Business.InsertBusinessCommand
@{
    ViewData["Title"] = "ایجاد کسب و کار جدید";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
}

@section Style {

    <link rel="stylesheet" href="~/assets/vendor/libs/select2/select2.css">
}
@section Script {
    <script>
        function ChangeProvince() {
            var province = document.getElementById("province"); var city = document.getElementById("city"); 
            
            var request = { id: province.value }; var url = '/Admin/Business/Cities'; 
            rest.postAsync(url, null, request, function (isSuccess, response) 
{
                if (isSuccess) {
                    city.innerHTML = "";
                    var optionDefault = document.createElement("option");
                    optionDefault.innerHTML = 'یک گزینه انتخاب کنید.';
                    optionDefault.setAttribute("disabled", "disabled");
                    optionDefault.setAttribute("selected", "selected");
                    city.appendChild(optionDefault);

                    response.forEach((cityItem) => {
                        var option = document.createElement("option");
                        option.value = cityItem.id;
                        option.innerHTML = cityItem.title;
                        city.appendChild(option);
                    });
                }
            });
        }


   
        $(document).ready(function () {
            $('.select2').select2();
        });
        $(document).ready(function () {
            $('.select2').select2();
        });
        $(document).ready(function () {
            $('.select2').select2();
        });
        $(document).ready(function () {
            $('.select2').select2();
        });
    </script>
    <script src="~/assets/js/upload.js"></script>
    <script src="~/assets/vendor/libs/select2/select2.js"></script>
    <partial name="_ValidationScriptsPartial" />
}
<div class="container">
    <div class="row">
        <nav aria-label="breadcrumb">
            <ol class="lh-1-85 breadcrumb">
                <li class="breadcrumb-item">
                    <a asp-area="Admin" asp-controller="Dashboard" asp-action="Index">پیشخوان</a>
                </li>
                <li class="breadcrumb-item">
                    <a asp-area="Admin" asp-controller="Business" asp-action="Index">مدیریت کسب و کارها</a>
                </li>
                <li class="breadcrumb-item active">ایجاد کسب و کار جدید</li>
            </ol>
        </nav>
    </div>
    <div class="row">
        <div class="col-md-12 col-xl-12 col-lg-12 col-sm-12 ">
            <div class="card mb-4">
                <form asp-area="Admin" asp-controller="Business" asp-action="Create">
                    <h5 class="card-header heading-color">ایجاد کسب و کار جدید</h5>
                    @if (ViewBag.Alert != null)
                    {
                        <div class="mx-3 alert alert-warning">@ViewBag.Alert</div>
                    }
                    <div class="card-body demo-vertical-spacing demo-only-element">


                        <div class="row">

                            <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12">
                                <div>
                                    <label class="form-label"> نام کسب و کار</label>
                                    <input asp-for="AccountName" type="text" class="form-control"
                                           placeholder="نام کسب و کار ‌ " aria-describedby="defaultFormControlHelp">
                                    <span class="text-danger" asp-validation-for="AccountName"></span>
                                </div>
                            </div>
                            <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12">
                                <div>
                                    <label class="form-label"> نشانی سایت </label>
                                    <input asp-for="Link" type="url" class="form-control"
                                           placeholder="نشانی سایت" aria-describedby="defaultFormControlHelp">

                                </div>
                            </div>
                            <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12">
                                <div>
                                    <label class="form-label"> ایمیل </label>
                                    <input asp-for="Email" type="email" class="form-control"
                                           placeholder="ایمیل " aria-describedby="defaultFormControlHelp">
                                    <span class="text-danger" asp-validation-for="Email"></span>
                                </div>
                            </div>

                            <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12">
                                <div>
                                    <label class="form-label"> شماره تماس / موبایل </label>
                                    <input asp-for="PhoneNumber" type="tel" class="form-control"
                                           placeholder="شماره تماس / موبایل " aria-describedby="defaultFormControlHelp">
                                    <span class="text-danger" asp-validation-for="PhoneNumber"></span>
                                </div>
                            </div>

                            <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12">
                                <div>
                                    <label class="form-label">عرض جغرافیایی </label>
                                    <input asp-for="Latitude" type="text" class="form-control"
                                           placeholder=" عرض جغرافیایی " aria-describedby="defaultFormControlHelp">
                                    <span class="text-secnodry">جهت نمایش روی نقشه</span>
                                </div>
                            </div>
                            <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12">
                                <div>
                                    <label class="form-label">طول جغرافیایی </label>
                                    <input asp-for="Longitude" type="text" class="form-control"
                                           placeholder=" طول جغرافیایی " aria-describedby="defaultFormControlHelp">
                                    <span class="text-secnodry">جهت نمایش روی نقشه</span>
                                </div>
                            </div>

                            <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12">
                                <div>
                                    <label class="form-label">اینستاگرام </label>
                                    <input asp-for="Instagram" type="text" class="form-control"
                                           placeholder=" اینستاگرام " aria-describedby="defaultFormControlHelp">

                                </div>
                            </div>

                            <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12">
                                <div>
                                    <label class="form-label">واتساپ </label>
                                    <input asp-for="WhatsApp" type="text" class="form-control"
                                           placeholder=" واتساپ " aria-describedby="defaultFormControlHelp">
                                </div>
                            </div>


                            <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12">
                                <div>
                                    <label class="form-label">فیسبوک </label>
                                    <input asp-for="FaceBook" type="text" class="form-control"
                                           placeholder=" فیسبوک " aria-describedby="defaultFormControlHelp">
                                </div>
                            </div>

                            <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12">
                                <div>
                                    <label class="form-label">لینکدین</label>
                                    <input asp-for="Linkdin" type="text" class="form-control"
                                           placeholder=" لینکدین " aria-describedby="defaultFormControlHelp">

                                </div>
                            </div>


                            <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12">
                                <div class="form-group">
                                    <label class="form-label">  دسته‌بندی  </label>
                                    <div class="form-control-wrap">
                                        <select id="category" class="select2 form-select form-select-lg select2-hidden-accessible"
                                                data-allow-clear="true"
                                                data-select2-id="select2Basic"
                                                asp-for="CategoryId" asp-items="@ViewBag.Categories"
                                                tabindex="-1" aria-hidden="true">
                                            <option disabled selected>یک گزینه انتخاب کنید.</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12">
                                <div class="form-group">
                                    <label class="form-label">  استان  </label>
                                    <div class="form-control-wrap">
                                        <select id="province" class="select2 form-select form-select-lg select2-hidden-accessible"
                                                data-allow-clear="true"
                                                data-select2-id="select2Basic"
                                                onchange="ChangeProvince()"
                                                asp-for="ProvinceId" asp-items="@ViewBag.Province"
                                                tabindex="-1" aria-hidden="true">
                                            <option disabled selected>یک گزینه انتخاب کنید.</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12">
                                <div class="form-group">
                                    <label class="form-label">  شهر  </label>
                                    <div class="form-control-wrap">
                                        <select id="city" class="select2 form-select form-select-lg select2-hidden-accessible"
                                                data-allow-clear="true"
                                                data-select2-id="select2Basic"
                                                asp-for="CityId" asp-items="@ViewBag.Provinces"
                                                tabindex="-1" aria-hidden="true">
                                            <option disabled selected>یک گزینه انتخاب کنید.</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12">
                                <div class="form-group">
                                    <label class="form-label">  منتشر‌کننده  </label>
                                    <div class="form-control-wrap">
                                        <select id="users" class="select2 form-select form-select-lg select2-hidden-accessible"
                                                data-allow-clear="true"
                                                data-select2-id="select2Basic"
                                                asp-for="UserId" asp-items="@ViewBag.Users"
                                                tabindex="-1" aria-hidden="true">
                                            <option disabled selected>یک گزینه انتخاب کنید.</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                <div>
                                    <label class="form-label">نشانی</label>
                                    <textarea asp-for="Address" type="text" class="form-control" rows="7"
                                              placeholder=" نشانی ">
                                          </textarea>
                                </div>
                            </div>

                            <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                <div>
                                    <label class="form-label">درباره کسب و کار</label>
                                    <textarea asp-for="About" type="text" class="form-control" rows="7"
                                              placeholder=" درباره کسب و کار چند خط بنویسید ">
                                          </textarea>
                                    <span class="text-danger" asp-validation-for="About"></span>
                                </div>
                            </div>
                            <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                <div class="mt-3">
                                    <div class="form-check form-switch mb-2">
                                        <input class="form-check-input" type="checkbox" asp-for="IsTime">
                                        <label class="form-check-label" for="flexSwitchCheckDefault">تعریف ساعت کاری</label>
                                    </div>

                                    <div class="form-check form-switch mb-2">
                                        <input class="form-check-input" type="checkbox" asp-for="IsActive">
                                        <label class="form-check-label" for="flexSwitchCheckDefault">  فعال سازی/ غیرفعال سازی</label>
                                    </div>
                                </div>
                            </div>

                            <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                <div class="form-group">
                                    <label class="form-label"> تغییر وضعیت  </label>
                                    <div class="form-control-wrap">
                                        <select class="form-select "
                                                asp-items="Html.GetEnumSelectList<Status>()"
                                                asp-for="status">
                                           
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>



                    </div>
                    <div class="card-footer">
                        <button type="submit" class="btn btn-sm rounded-pill btn-success">ثبت</button>
                        <a asp-area="Admin" asp-controller="Business" asp-action="Index" class="btn btn-sm rounded-pill btn-warning text-white">بازگشت</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>